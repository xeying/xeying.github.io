<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小松许的家</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-02-16T14:56:05.237Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>xeying</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>test</title>
    <link href="http://example.com/2022/02/16/test/"/>
    <id>http://example.com/2022/02/16/test/</id>
    <published>2022-02-16T14:53:03.000Z</published>
    <updated>2022-02-16T14:56:05.237Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/../images/2.jpg" alt="2"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/../images/2.jpg&quot; alt=&quot;2&quot;&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>software</title>
    <link href="http://example.com/2022/02/16/software/"/>
    <id>http://example.com/2022/02/16/software/</id>
    <published>2022-02-16T14:37:34.000Z</published>
    <updated>2022-02-16T14:51:02.779Z</updated>
    
    <content type="html"><![CDATA[<h1 id="软件包"><a href="#软件包" class="headerlink" title="软件包"></a>软件包</h1><h2 id="分为-源码包和RPM包（二进制包）"><a href="#分为-源码包和RPM包（二进制包）" class="headerlink" title="分为 源码包和RPM包（二进制包）"></a>分为 源码包和RPM包（二进制包）</h2><h1 id="RPM包"><a href="#RPM包" class="headerlink" title="RPM包"></a>RPM包</h1><h2 id="RPM包（手工命令安装）"><a href="#RPM包（手工命令安装）" class="headerlink" title="RPM包（手工命令安装）"></a>RPM包（手工命令安装）</h2><h3 id="RPM包下安装Apache"><a href="#RPM包下安装Apache" class="headerlink" title="RPM包下安装Apache"></a>RPM包下安装Apache</h3><p>rpm -ivh rpm包全名</p><h4 id="启动："><a href="#启动：" class="headerlink" title="启动："></a>启动：</h4><ul><li>service httpd restart</li><li>&#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;httpd     start | restrat | stop</li></ul><h4 id="网页位置："><a href="#网页位置：" class="headerlink" title="网页位置："></a>网页位置：</h4><p>&#x2F;var&#x2F;www&#x2F;html&#x2F;</p><h4 id="配置文件："><a href="#配置文件：" class="headerlink" title="配置文件："></a>配置文件：</h4><p>&#x2F;etc&#x2F;httpd&#x2F;conf&#x2F;httpd.conf</p><h3 id="RPM包升级"><a href="#RPM包升级" class="headerlink" title="RPM包升级"></a>RPM包升级</h3><p>rpm -Uvh 包全名   如果没有安装直接安装</p><p>rpm -Fvh 包全名    必须有旧版本才能升级</p><h3 id="RPM包卸载"><a href="#RPM包卸载" class="headerlink" title="RPM包卸载"></a>RPM包卸载</h3><p>rpm -e 包名</p><h3 id="RPM包查询"><a href="#RPM包查询" class="headerlink" title="RPM包查询"></a>RPM包查询</h3><p>rpm -q 包名 （查询的是客户端，yum查询的是服务器端）</p><p>rpm -qa | grep 包名      查询是否安装</p><p>rpm -qi 包名         查询包的信息</p><p>rpm -qip  包全名    查询没有安装的软件包的详细信息</p><p>rpm -ql 包名         列出软件包中所有的文件列表和软件安装目录</p><p>rpm -qlp 包全名   查询没有安装的软件包信息和打算安装的位置</p><p>rpm -qf 系统文件名         查询系统文件属于哪个RPM包</p><p>rpm -qR 包名                查询包的依赖包（不用）</p><h3 id="RPM包验证"><a href="#RPM包验证" class="headerlink" title="RPM包验证"></a>RPM包验证</h3><p>rpm -V  已安装的包名               验证指定包</p><p>rpm -Vf 系统文件名                   验证系统文件是否被修改</p><h5 id="数字证书"><a href="#数字证书" class="headerlink" title="数字证书"></a>数字证书</h5><p>位置在   &#x2F;mnt&#x2F;cdrom&#x2F;RPM-GPG-KEY-CentOS-7   即光盘中的证书位置</p><p>​            &#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-7  系统中的数字证书位置    </p><h6 id="数字证书导入"><a href="#数字证书导入" class="headerlink" title="数字证书导入"></a>数字证书导入</h6><p>rpm –import &#x2F;etc&#x2F;pki&#x2F;rpm-gpg&#x2F;RPM-GPG-KEY-CentOS-7</p><h6 id="查询已经安装好的数字证书"><a href="#查询已经安装好的数字证书" class="headerlink" title="查询已经安装好的数字证书"></a>查询已经安装好的数字证书</h6><p>rpm -qa | grep gpg-pubkey</p><h3 id="RPM包提取文件"><a href="#RPM包提取文件" class="headerlink" title="RPM包提取文件"></a>RPM包提取文件</h3><p>rpm2cpio 包全名 | cpio -idv .文件的绝对路径</p><h2 id="RPM包（yum安装）"><a href="#RPM包（yum安装）" class="headerlink" title="RPM包（yum安装）"></a>RPM包（yum安装）</h2><p>yum源文件保存在 &#x2F;etc&#x2F;yum.repos.d&#x2F;</p><h3 id="yum命令"><a href="#yum命令" class="headerlink" title="yum命令"></a>yum命令</h3><p>yum list  [包名]                           查询yum源服务器上所有可安装的软件包列表&#x2F;包</p><p>yum search 关键字                    查询yum源服务器上所有和关键字相关的软件包（在包内或者跟包名有关）</p><p>yum info 包名                             查询指定软件包的信息</p><p>yum -y install 包名                        安装</p><p>yum -y update [包名]                    升级</p><p>yum remove  包名                        卸载</p><p>yum grouplist                                查询已经安装的软件组</p><p>yum groupinfo 软件组名                查询软件组内安装的软件</p><p>yum groupinstall 软件组名            安装软件组</p><p>yum groupremove 软件组名        卸载软件组</p><h1 id="源码包"><a href="#源码包" class="headerlink" title="源码包"></a>源码包</h1><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>（1）下载软件包</p><p>（2）解压缩</p><p>（3）进入解压目录</p><p>（4）.&#x2F;configure  –prefix&#x3D;路径        编译前准备（指定安装位置）</p><p>（5）make                            编译</p><p>（6）make clean                  清空编译内容（4，5命令编译出错）（非必须）</p><p>（7）make install                 编译安装</p><h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><p>删除目录</p><h3 id="打入补丁"><a href="#打入补丁" class="headerlink" title="打入补丁"></a>打入补丁</h3><p>diff -Naur old new   &gt;  txt.patch                    比较old文件和new文件的不同（生成补丁文件txt.patch）（注意前面的文件最好是绝对路径）</p><p>patch -pn &lt;txt.patch                                     打入补丁（-pn用于删除目录防止重复，根目录下-p1）(如果没有在上一步写入绝对路径，则 -p0)</p><h1 id="防火墙设置"><a href="#防火墙设置" class="headerlink" title="防火墙设置"></a>防火墙设置</h1><h4 id="查看默认防火墙状态"><a href="#查看默认防火墙状态" class="headerlink" title="查看默认防火墙状态"></a>查看默认防火墙状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# firewall-cmd --state</span><br><span class="line">not running</span><br></pre></td></tr></table></figure><h4 id="检查防火墙的状态"><a href="#检查防火墙的状态" class="headerlink" title="检查防火墙的状态"></a>检查防火墙的状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# systemctl list-unit-files|grep firewalld.service</span><br><span class="line">firewalld.service                             disabled</span><br><span class="line">或者：</span><br><span class="line">[root@localhost ~]# systemctl status firewalld.service</span><br><span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span><br><span class="line">Loaded: loaded (/usr/lib/systemd/system/firewalld.service; disabled; vendor preset: enabled)</span><br><span class="line">Active: inactive (dead)     --表示防火墙已经关闭</span><br><span class="line">  Docs: man:firewalld(1)</span><br></pre></td></tr></table></figure><h4 id="开启防火墙"><a href="#开启防火墙" class="headerlink" title="开启防火墙"></a>开启防火墙</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#systemctl start firewalld.service  --启动firewall</span><br><span class="line">[root@localhost ~]#systemctl enable firewalld.service--开机时启动firewall</span><br><span class="line">Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service. </span><br></pre></td></tr></table></figure><h4 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment">#systemctl stop firewalld.service    --停止firewall</span></span><br><span class="line">[root@localhost ~]<span class="comment">#systemctl disable firewalld.service--禁止firewall开机启动</span></span><br><span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span><br><span class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.  </span><br></pre></td></tr></table></figure><h4 id="重启防火墙"><a href="#重启防火墙" class="headerlink" title="重启防火墙"></a>重启防火墙</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl restart firewalld.service</span></span><br></pre></td></tr></table></figure><h4 id="查看防火墙是否开机自启"><a href="#查看防火墙是否开机自启" class="headerlink" title="查看防火墙是否开机自启"></a>查看防火墙是否开机自启</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl is-enabled firewalld.service;echo $?</span></span><br><span class="line">enabled--自启</span><br><span class="line">0</span><br><span class="line">或者：</span><br><span class="line">[root@localhost ~]<span class="comment"># systemctl is-enabled firewalld.service;echo $?</span></span><br><span class="line">disabled--不自启</span><br><span class="line">1</span><br></pre></td></tr></table></figure><h4 id="查看已启动的服务列表"><a href="#查看已启动的服务列表" class="headerlink" title="查看已启动的服务列表"></a>查看已启动的服务列表</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl list-unit-files|grep enabled</span></span><br><span class="line">auditd.service                                enabled </span><br><span class="line">autovt@.service                               enabled </span><br><span class="line">avahi-daemon.service                                enabled </span><br><span class="line">crond.service                                 enabled </span><br></pre></td></tr></table></figure><h4 id="开启端口"><a href="#开启端口" class="headerlink" title="开启端口"></a>开启端口</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># firewall-cmd --zone=public --add-port=80/tcp --permanent</span></span><br><span class="line">success</span><br><span class="line">命令含义：</span><br><span class="line">–zone <span class="comment">#作用域</span></span><br><span class="line">–add-port=80/tcp <span class="comment">#添加端口，格式为：端口/通讯协议</span></span><br><span class="line">–permanent <span class="comment">#永久生效，没有此参数重启后失效</span></span><br></pre></td></tr></table></figure><h4 id="查看已经开放的端口"><a href="#查看已经开放的端口" class="headerlink" title="查看已经开放的端口"></a>查看已经开放的端口</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># firewall-cmd --list-port80/tcp</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;软件包&quot;&gt;&lt;a href=&quot;#软件包&quot; class=&quot;headerlink&quot; title=&quot;软件包&quot;&gt;&lt;/a&gt;软件包&lt;/h1&gt;&lt;h2 id=&quot;分为-源码包和RPM包（二进制包）&quot;&gt;&lt;a href=&quot;#分为-源码包和RPM包（二进制包）&quot; class=&quot;header</summary>
      
    
    
    
    <category term="后端" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>user</title>
    <link href="http://example.com/2022/02/16/user/"/>
    <id>http://example.com/2022/02/16/user/</id>
    <published>2022-02-16T14:37:14.000Z</published>
    <updated>2022-02-16T14:50:54.748Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h1><h2 id="用户信息文件"><a href="#用户信息文件" class="headerlink" title="用户信息文件"></a>用户信息文件</h2><p>位置：&#x2F;etc&#x2F;passwd</p><p><strong>Linux用户权限绑定在UID上</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"><span class="comment">#第一列：用户名</span></span><br><span class="line"><span class="comment">#第二列：密码位</span></span><br><span class="line"><span class="comment">#第三列：用户ID </span></span><br><span class="line"><span class="comment">#&#123;</span></span><br><span class="line"><span class="comment">#超级用户 UID=0</span></span><br><span class="line"><span class="comment">#    系统用户 UID=&gt;[1，499]</span></span><br><span class="line"><span class="comment">#    普通用户 UID=&gt;[500,65535]</span></span><br><span class="line"><span class="comment">#&#125;</span></span><br><span class="line"><span class="comment">#第四列：组ID</span></span><br><span class="line"><span class="comment">#第五列：用户说明</span></span><br><span class="line"><span class="comment">#第六列：用户家目录</span></span><br><span class="line"><span class="comment">#第七列：登录shell</span></span><br></pre></td></tr></table></figure><h2 id="影子文件"><a href="#影子文件" class="headerlink" title="影子文件"></a>影子文件</h2><p>位置 ：&#x2F;etc&#x2F;shadow</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root:$6$cDiw5ZffVZO702a9$.pNKE.sd/Xvm180rERT7jAzjc2j9xNMdTUsoU/LDG.ihI.BK/SzJzshtAUQ9euO1Cnne5Xui/v76y6AXxH4vA1::0:99999:7:::</span><br><span class="line"><span class="comment">#第一列：用户名</span></span><br><span class="line"><span class="comment">#第二列：加密密码前面+！使用户失效</span></span><br><span class="line"><span class="comment">#第三列：密码最近更改时间 时间戳 单位天  距离1970年1月1日的天数</span></span><br><span class="line"><span class="comment">#第四列：两次密码修改的时间间隔</span></span><br><span class="line"><span class="comment">#第五列：密码有效期</span></span><br><span class="line"><span class="comment">#第六列：密码到期前的警告天数</span></span><br><span class="line"><span class="comment">#第七列：密码过期后的宽限天数</span></span><br><span class="line"><span class="comment">#第八列：密码失效时间写时间戳 </span></span><br><span class="line"><span class="comment">#第九列：保留</span></span><br></pre></td></tr></table></figure><h2 id="组信息文件"><a href="#组信息文件" class="headerlink" title="组信息文件"></a>组信息文件</h2><p>位置：&#x2F;etc&#x2F;group</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root:x:0: </span><br><span class="line"><span class="comment">#第一列：组名</span></span><br><span class="line"><span class="comment">#第二列：组密码位</span></span><br><span class="line"><span class="comment">#第三列：GID</span></span><br><span class="line"><span class="comment">#第四列：此组中支持的其他用户</span></span><br><span class="line"><span class="comment">#&#123;初始组（与用户名相同的组：一个） 和附加组：多个&#125;</span></span><br></pre></td></tr></table></figure><h2 id="用户邮箱目录"><a href="#用户邮箱目录" class="headerlink" title="用户邮箱目录"></a>用户邮箱目录</h2><p>位置：&#x2F;var&#x2F;spool&#x2F;mail</p><h2 id="用户模板目录"><a href="#用户模板目录" class="headerlink" title="用户模板目录"></a>用户模板目录</h2><p>位置：&#x2F;etc&#x2F;skel&#x2F;                            用于提供新建用户的环境</p><h1 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h1><h2 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h2><p>useradd 选项 用户名</p><p>-g 初始组             添加入初始组</p><p>-G 附加组            添加入附加组</p><p>配置文件         位置： &#x2F;etc&#x2F;login.defs</p><p>​                                  &#x2F;etc&#x2F;default&#x2F;useradd</p><h2 id="设定密码"><a href="#设定密码" class="headerlink" title="设定密码"></a>设定密码</h2><p>passwd [选项] 用户名</p><p>-l            暂时锁定用户（root）</p><p>-u            解锁用户（root ）</p><p>–stdin            可以将通过管道符输出的数据作为用户的密码，主要在批量添加用户时使用</p><p>passwd         直接回车表示修改当前用户密码</p><p>history          查看历史命令</p><p>history -c     清空历史命令</p><p>chage -d 0 用户名            可以让用户第一次登录强制改密码（修改shadow里的第三字段）</p><h2 id="用户信息修改"><a href="#用户信息修改" class="headerlink" title="用户信息修改"></a>用户信息修改</h2><p>usermod  [选项]  用户名</p><p>-g 初始组             添加入初始组</p><p>-G 附加组            添加入附加组</p><h2 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h2><p>userdel [-r]    用户名                                -r用于删除用户同时删除家目录</p><h2 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h2><p>su [选项] 用户名</p><p>-                                                     切换用户连环境变量一起切换</p><p>-c 命令                                            仅执行一次命令，不切换用户身份            </p><h1 id="组管理命令"><a href="#组管理命令" class="headerlink" title="组管理命令"></a>组管理命令</h1><h2 id="添加用户组"><a href="#添加用户组" class="headerlink" title="添加用户组"></a>添加用户组</h2><p>groupadd [选项] 组名</p><p>-g GID                            指定组ID</p><h2 id="删除用户组"><a href="#删除用户组" class="headerlink" title="删除用户组"></a>删除用户组</h2><p>groupdel 组名</p><h2 id="将用户添加进组或从组中删除"><a href="#将用户添加进组或从组中删除" class="headerlink" title="将用户添加进组或从组中删除"></a>将用户添加进组或从组中删除</h2><p>gpasswd [选项] 组名</p><p>-a 用户名                        把用户加入组</p><p>-d 用户名                        把用户从组中删除</p><h2 id="改变有效组"><a href="#改变有效组" class="headerlink" title="改变有效组"></a>改变有效组</h2><p>newgrp 组名                        至少有两个组</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;用户管理&quot;&gt;&lt;a href=&quot;#用户管理&quot; class=&quot;headerlink&quot; title=&quot;用户管理&quot;&gt;&lt;/a&gt;用户管理&lt;/h1&gt;&lt;h2 id=&quot;用户信息文件&quot;&gt;&lt;a href=&quot;#用户信息文件&quot; class=&quot;headerlink&quot; title=&quot;用户信息文</summary>
      
    
    
    
    <category term="后端" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>permission</title>
    <link href="http://example.com/2022/02/16/permission/"/>
    <id>http://example.com/2022/02/16/permission/</id>
    <published>2022-02-16T14:36:18.000Z</published>
    <updated>2022-02-16T14:50:40.998Z</updated>
    
    <content type="html"><![CDATA[<h1 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h1><h2 id="ACL"><a href="#ACL" class="headerlink" title="ACL:"></a>ACL:</h2><p>用于解决用户对文件身份不足的问题的</p><h3 id="开启ACL"><a href="#开启ACL" class="headerlink" title="开启ACL"></a>开启ACL</h3><p>dumpe2fs  -h &#x2F;dev&#x2F;sda3                                    查询指定分区详细文件系统信息</p><p>mount -o remount,acl                                     手动开启分区的ACL权限</p><h3 id="ACL基本命令"><a href="#ACL基本命令" class="headerlink" title="ACL基本命令"></a>ACL基本命令</h3><p>getfacl 文件名                                                查询文件的ACL权限</p><p>setfacl 选项 文件名                                        设定ACL权限</p><p>-m                                                                 设定ACL权限</p><p>-b                                                                   删除ACL权限</p><p>setfacl -m u:aa:rwx -R &#x2F;test                           递归文件赋予权限（对目录下已经存在的文件生效）</p><p>setfacl -m d:u:aa:rwx -R &#x2F;test                        默认权限（只对以后新建的文件生效）</p><p><strong>ACL权限一旦递归后会出现权限溢出</strong></p><p>setfacl -m m:rx project&#x2F;                                设定最大有效权限</p><p>setfacl -x u:user1 &#x2F;test&#x2F;                                删除user1（用户组）的ACL权限</p><h2 id="sudo授权"><a href="#sudo授权" class="headerlink" title="sudo授权"></a>sudo授权</h2><p>给普通用户赋予部分管理员权限</p><p>赋予的权限越详细，普通用户得到的权限越小</p><p>&#x2F;sbin&#x2F;                在此目录下命令只能超级用户才可以使用</p><p>&#x2F;usr&#x2F;sbin&#x2F;</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">visudo   </span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line"><span class="comment">#用户名  被管理主机的地址=（可用的身份默认为root）授权命令（绝对路径）</span></span><br><span class="line"><span class="comment">#%组名   被管理主机的地址=（可用的身份默认为root）授权命令（绝对路径）</span></span><br></pre></td></tr></table></figure><h2 id="文件特殊权限"><a href="#文件特殊权限" class="headerlink" title="文件特殊权限"></a>文件特殊权限</h2><p><strong>4代表SUID</strong></p><p><strong>2代表SGID</strong></p><p><strong>1代表SBIT</strong></p><h3 id="SetUID"><a href="#SetUID" class="headerlink" title="SetUID"></a>SetUID</h3><p>必须是可执行二进制程序才能设定SUID权限（针对文件）</p><p>命令执行者要对该程序具有x（执行）权限</p><h3 id="SetGID"><a href="#SetGID" class="headerlink" title="SetGID"></a>SetGID</h3><p>针对文件</p><p>针对目录 </p><h3 id="Sticky-BIT"><a href="#Sticky-BIT" class="headerlink" title="Sticky BIT"></a>Sticky BIT</h3><p>粘着位：除了root其他用户只能删除自己的文件（防止误删）</p><p>系统中&#x2F;temp&#x2F;有此权限</p><p>只能针对目录</p><h2 id="文件系统属性权限"><a href="#文件系统属性权限" class="headerlink" title="文件系统属性权限"></a>文件系统属性权限</h2><p>chattr [+-&#x3D;] [选项] 文件或目录名</p><p>i：锁文件 不允许对文件进行增加，删除，修改。对目录，只能修改目录下文件的数据，但不允许建立和删除文件</p><p>a：追加    对文件进行增加数据，但不能删除和修改数据。对目录，只允许在目录中建立和修改文件，但不允许删除</p><p>lsattr 选项  文件名                查看文件系统属性</p><p>-a： 显示所有文件和目录</p><p>-d：如果目标是目录，仅列出目录的属性</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;权限管理&quot;&gt;&lt;a href=&quot;#权限管理&quot; class=&quot;headerlink&quot; title=&quot;权限管理&quot;&gt;&lt;/a&gt;权限管理&lt;/h1&gt;&lt;h2 id=&quot;ACL&quot;&gt;&lt;a href=&quot;#ACL&quot; class=&quot;headerlink&quot; title=&quot;ACL:&quot;&gt;&lt;/a&gt;A</summary>
      
    
    
    
    <category term="后端" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>file</title>
    <link href="http://example.com/2022/02/16/file/"/>
    <id>http://example.com/2022/02/16/file/</id>
    <published>2022-02-16T14:36:01.000Z</published>
    <updated>2022-02-16T14:50:36.393Z</updated>
    
    <content type="html"><![CDATA[<h1 id="文件系统管理"><a href="#文件系统管理" class="headerlink" title="文件系统管理"></a>文件系统管理</h1><h2 id="常用的硬盘管理命令"><a href="#常用的硬盘管理命令" class="headerlink" title="常用的硬盘管理命令"></a>常用的硬盘管理命令</h2><h3 id="df命令"><a href="#df命令" class="headerlink" title="df命令"></a>df命令</h3><p>df -ahT                         查看硬盘空间大小（需要重启释放，统计的剩余空间大小是准确的）</p><h3 id="du命令"><a href="#du命令" class="headerlink" title="du命令"></a>du命令</h3><p>du -h                          查看目录大小（统计的文件大小是准确的）</p><h3 id="fsck文件系统修复命令"><a href="#fsck文件系统修复命令" class="headerlink" title="fsck文件系统修复命令"></a>fsck文件系统修复命令</h3><p>fsck -y &#x2F;dev&#x2F;sdb1             自动修复</p><h3 id="显示磁盘状态dumpe2fs"><a href="#显示磁盘状态dumpe2fs" class="headerlink" title="显示磁盘状态dumpe2fs"></a>显示磁盘状态dumpe2fs</h3><p><strong>centos6</strong>时用 <code>dumpe2fs</code> 命令，在 <strong>centos7</strong>时 用 <code>xfs_growfs</code>来查看文件系统信息</p><h3 id="判断文件类型"><a href="#判断文件类型" class="headerlink" title="判断文件类型"></a>判断文件类型</h3><p>type     命令名                                    判断命令类型</p><p>file 文件名                                判断文件类型</p><h2 id="fdisk命令手工分区"><a href="#fdisk命令手工分区" class="headerlink" title="fdisk命令手工分区"></a>fdisk命令手工分区</h2><p>fdisk -l                        查看系统所有硬盘及分区</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;文件系统管理&quot;&gt;&lt;a href=&quot;#文件系统管理&quot; class=&quot;headerlink&quot; title=&quot;文件系统管理&quot;&gt;&lt;/a&gt;文件系统管理&lt;/h1&gt;&lt;h2 id=&quot;常用的硬盘管理命令&quot;&gt;&lt;a href=&quot;#常用的硬盘管理命令&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="后端" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>vim</title>
    <link href="http://example.com/2022/02/16/vim/"/>
    <id>http://example.com/2022/02/16/vim/</id>
    <published>2022-02-16T14:33:25.000Z</published>
    <updated>2022-02-16T14:50:48.813Z</updated>
    
    <content type="html"><![CDATA[<h3 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h3><h3 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h3><h3 id="输入模式"><a href="#输入模式" class="headerlink" title="输入模式"></a>输入模式</h3><h3 id="命令模式-gt-输入模式"><a href="#命令模式-gt-输入模式" class="headerlink" title="命令模式-&gt;输入模式"></a>命令模式-&gt;输入模式</h3><ul><li>i            在当前光标前一个字符输入</li><li>I            在行尾开始输入</li><li>a           在当前光标后一个字符输入</li><li>A           在行首开始输入</li><li>o           在下一行插入空白行</li><li>O          在上一行插入空白行</li></ul><h3 id="命令模式下的操作"><a href="#命令模式下的操作" class="headerlink" title="命令模式下的操作"></a>命令模式下的操作</h3><ul><li><p>u    光标左移</p></li><li><p>j     光标下移</p></li><li><p>k    光标上移</p></li><li><p>l     光标右移</p></li><li><p>gg   来到文件头部</p></li><li><p>G    来到文件尾部</p></li><li><p>^     来到行首 </p></li><li><p>$     来到行尾</p></li><li><p>:n    来到n行</p></li><li><p>x      删除一个字符</p></li><li><p>nx    删除n个字符</p></li><li><p>dd    删除单行    也是剪切</p></li><li><p>ndd  删除n行</p></li><li><p>p      粘贴到光标后</p></li><li><p>P      粘贴到光标前</p></li><li><p>dG    删除从光标开始到文件尾部</p></li><li><p>yy    复制单行</p></li><li><p>nyy  复制n行</p></li><li><p>u     撤销</p></li><li><p>ctrl+r    反撤销</p></li><li><p>r       替换一个字符，按下后输入修改成为的字符 </p></li><li><p>R     替换整行字符 ESC结束</p></li><li><p>:set nu            显示行号</p></li><li><p>set nonu         取消行号</p></li><li><p>:syntax  on            根据语法提示高亮和纠错</p></li><li><p>:syntax   off           关闭高亮颜色和纠错</p></li><li><p>:set hlsearch         开启查找的字符串高亮显示</p></li><li><p>:set nohlsearch     关闭查找的字符串高亮显示</p></li><li><p>:set ruler                         设置右下角显示状态栏</p></li><li><p>:set noruler                      关闭右下角状态栏</p></li><li><p>:set showmode                设置左下角显示的提示信息状态栏</p></li><li><p>:set noshowmode            关闭左下角显示的提示信息状态栏</p></li><li><p>:set list                             显示隐藏字符                             Linux和windows不同，需要使用dos2unix命令或者unix2dos命令</p></li><li><p>:set nolist                         不显示隐藏字符                         </p></li><li><p>&#x2F;查找内容                    从光标所在行向下查找顺序是自上而下</p></li><li><p>?查找内容                   从光标所在行向上查找顺序也是自下而上</p></li><li><p>n                                 按下跳到下一个</p></li><li><p>N                                按下跳到上一个</p></li><li><p>:1,10s&#x2F;old&#x2F;new&#x2F;g                替换1到10行所有的old为new</p></li><li><p>:%s&#x2F;old&#x2F;new&#x2F;g                    替换全篇文档中的old为new</p></li><li><p>:1,10s&#x2F;^&#x2F;#&#x2F;g                        将1到10行注释掉</p></li><li><p>:1,10s&#x2F;^#&#x2F;&#x2F;g                        取消注释</p></li><li><p>:r 文件名                          将文件内容导入到光标位置</p></li><li><p>:! 命令                             在vim中执行系统命令</p></li><li><p>:r !命令                            将命令的结果导入光标位置</p></li><li><p>:map ^P I#<ESC>          输入ctrl+p注释本行            ^P需要先输入ctrl+v然后再输入ctrl+p                                （临时生效）</p></li><li><p>:map ^B ^x                     删除行首第一个字符          ^B………………                                                                （临时生效）                                  </p></li><li><p>:ab 源字符  替换为字符                 字符替换                        输入                                                                       （临时生效）</p><ul><li>:ab mymail 1042559317@qq,com                当碰到”mymail”时，转变为邮箱</li></ul></li><li><p>多文件打开执行             vim  -o abc abcd             小写o会上下分屏           光标切换：按下 ctrl+w 后按上下按键</p><p>​                                      vim  -O abc abcd            大写O会左右分屏          光标切换：按下 ctrl+w 后按左右按键</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;命令模式&quot;&gt;&lt;a href=&quot;#命令模式&quot; class=&quot;headerlink&quot; title=&quot;命令模式&quot;&gt;&lt;/a&gt;命令模式&lt;/h3&gt;&lt;h3 id=&quot;编辑模式&quot;&gt;&lt;a href=&quot;#编辑模式&quot; class=&quot;headerlink&quot; title=&quot;编辑模式&quot;&gt;&lt;/a</summary>
      
    
    
    
    <category term="后端" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
  </entry>
  
</feed>
